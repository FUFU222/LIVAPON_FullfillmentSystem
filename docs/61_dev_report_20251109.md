# Development Report (2025-11-09)

## 対応サマリ
- Shopify アプリ設定更新: `shopify.app.toml` に Webhook 購読を追記、MCP/CLI で再認可できる状態を確認。
- Fulfillment callback / OM モデル用の要件整理: `docs/10_om_model_transition.md`, `docs/12_requirements_bridge_app.md`, `docs/60_development_status.md` を最新方針に更新。
- CSV インポートは UI からリンクを非表示にし、内部ロジックとメモ (`docs/35_csv_import_notes.md`) を整備。
- UI/UX改善
  - ボタン/ナビ hover、ナビゲーションオーバーレイで操作感を向上。
  - トップページとヘッダーのブランド名を「配送管理コンソール」に統一。
  - 発送登録フローを「STEP 1: 発送情報入力」「STEP 2: 発送詳細の確認」に再構成。
  - 発送取消理由の選択＋理由入力、手動リロードバナーなど業務フローに合わせた丁寧な導線を実装。
  - 注文一覧を 20件単位でページングし、大量データでも操作しやすく改善。
  - Shopify 側でアーカイブされた注文を Console でも警告＋操作禁止し、`archived_at` を同期。
- 取消/再入荷等の表示を日本語化し、カスタムバナーで注意喚起。

## 今後のタスク候補
1. `shopify app deploy` + ストア再認可を実施し、Webhook/PULL フローを本番検証。
2. Realtime バナーのデザイン調整（通知ログや履歴への導線）。
3. アクセストークン管理 UI（`shopify_connections` 表示）や再認可ボタンの追加。
4. 在庫 UI 方針の確定（Shopify と Console 表示の整合）。
5. MCP 連携や Edge Runtime 化など、Next.js 16 へのアップデート準備。

## 引き継ぎのアイデア
- Issue Tracker / Kanban でタスク状態を明示し、PR/Issue に Docs へのリンクを付ける。
- 定期的な「開発レポート」MD を生成（今回ファイル）し、主要ブランチと紐付け。
- Supabase / Shopify など外部サービスの設定手順を runbook 化しておくと、新しい開発者がすぐ再現できる。
